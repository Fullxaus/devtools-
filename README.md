## Результаты само-ревью DVT-9

### Найденные проблемы

#### 1. Отсутствие CI badge в README
**Файл:** README.md (начало файла)
**Проблема:** Нет бейджа статуса сборки GitHub Actions
**Почему важно:** CI badge показывает статус проекта сразу при открытии README —
это стандарт для open-source проектов и упрощает мониторинг состояния сборки.
**Исправление:** Добавить бейдж в начало README:

#### 2. Забыт отладочный вывод
**Файл:** src/main/java/ru/mentee/power/devtools/Demo.java (строка 12)
**Проблема:** Оставлен `System.out.println("Debug: starting loop")`
**Почему важно:** Отладочный вывод замусоривает логи production-приложения и создаёт впечатление небрежности.
**Исправление:** Удалить строку или заменить на logger (если логирование настроено).

#### 3. Закомментированный код
**Файл:** src/main/java/ru/mentee/power/devtools/ProgressLoop.java (строки 23-27)
**Проблема:** Закомментированы 5 строк старой реализации цикла
**Почему важно:** Закомментированный код создаёт путаницу: непонятно зачем он сохранён и актуален ли.
Если нужна история изменений — она в Git.
**Исправление:** Удалить закомментированный код. Если нужна старая версия — посмотреть в Git History.
----------------------------------------------------------------------------------------------------------------


## Информационный поиск — результаты DVT-11

### Запросы и источники

| № | Запрос | Операторы | Официальный источник | Альтернатива | Статус | Дата проверки |
|---|--------|-----------|----------------------|--------------|--------|---------------|
| 1 |Lombok Gradle Short |  https://projectlombok.org/setup/gradle|https://mvnrepository.com/artifact/io.freefair.gradle/lombok-plugin/8.0.0 | 350к   | 9.12.2025     
| 2 | Java Stream API документация|https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html |https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html | 280к   | 9.12.2025     |
| 3 |горячие клавиши IntelliJ IDEA |https://www.jetbrains.com/help/idea/mastering-keyboard-shortcuts.html |https://otus.ru/nest/post/494/   | 420к          |9.12.2025


### AI-промпты и сравнение ассистентов

Задача: Нужно добавить валидацию email в класс Student
Контекст: Java 25, у меня есть класс Student с полем email (String), проект на Gradle
Ограничения: без использования регулярных выражений на данном этапе, простая проверка наличия @ и точки
Ожидаемый результат: план из 3-5 шагов, объяснение "почему именно так", НЕ пиши код — я реализую сам
Критерии успеха: валидация отклоняет пустые строки, строки без @, строки без точки после @

AI-1 (ChatGPT):

    Проверьте, что строка не пуста.
    Найдите индекс символа '@' в строке.
    Проверьте, что индекс '@' не равен 0 и что после '@' есть точка.

AI-2 (DeepSeek):

    Проверьте, что строка не пуста и содержит '@'.
    Разделите строку на части по '@' и проверьте, что частей ровно 2.
    Проверьте, что вторая часть содержит точку.

#### Промпт 2: Проверка кода

Промпт 2: Проверка кода

Код для проверки:

public String calculateTotalProgress(Mentee[] mentees) {
// Проверка валидности массива
if (mentees == null || mentees.length == 0) {
return "Суммарно: пройдено 0 из 0 уроков, осталось 0 уроков";
}

        // Инициализация аккумуляторов
        int totalCompleted = 0;
        int totalTotal = 0;
        int index = 0;

        // Цикл while для перебора массива
        while (index < mentees.length) {
            totalCompleted += mentees[index].completedLessons();
            totalTotal += mentees[index].totalLessons();
            index++;
        }

        // Вычисление оставшихся уроков
        int totalRemaining = totalTotal - totalCompleted;

        // Возвращение строки с информацией о суммарном прогрессе
        return String.format("Суммарно: пройдено %d из %d уроков, осталось %d уроков", totalCompleted, totalTotal, totalRemaining);
    }

Что проверить:

    Логические ошибки
    Соответствие Code Conventions
    Производительность

AI-1 (Scout):

Анализ

Логические ошибки:

    Не обрабатывается случай, когда mentees содержит null элементы. При вызове mentees[index].completedLessons() или mentees[index].totalLessons() может возникнуть NullPointerException.
    Не проверяется, что totalTotal не меньше totalCompleted. Если это не так, totalRemaining может быть отрицательным.

Соответствие Code Conventions:

    Название метода calculateTotalProgress корректно.
    Переменные totalCompleted, totalTotal, index имеют понятные имена.
    Однако, вместо использования цикла while, можно использовать более идиоматический для Java цикл for.

Производительность:

    Использование цикла while вместо for не критично для производительности, но менее читаемо.

Улучшение кода :

public String calculateTotalProgress(Mentee[] mentees) {
if (mentees == null || mentees.length == 0) {
return "Суммарно: пройдено 0 из 0 уроков, осталось 0 уроков";
}

    int totalCompleted = 0;
    int totalTotal = 0;

    for (Mentee mentee : mentees) {
        if (mentee != null) {
            totalCompleted += mentee.completedLessons();
            totalTotal += mentee.totalLessons();
        }
    }

    int totalRemaining = Math.max(totalTotal - totalCompleted, 0);

    return String.format("Суммарно: пройдено %d из %d уроков, осталось %d уроков", totalCompleted, totalTotal, totalRemaining);
}

AI-2 (Giga chat):

Логические ошибки

Код выглядит правильным с точки зрения базовой логики, однако есть пара моментов, которые стоит учесть:

    Если массив менторов (Mentee) пуст или равен null, вы возвращаете строку "Суммарно: пройдено 0 из 0 уроков, осталось 0 уроков". Это нормально, но возможно стоит подумать над альтернативным сообщением, например: "Нет учеников." или сделать возврат пустого значения, если такая ситуация критична для бизнес-логики.Однако этот выбор зависит от контекста вашего приложения.
    Ваш цикл использует индексный доступ к элементам массива, что совершенно нормально. Но обратите внимание, что современные Java-стили рекомендуют использование цикла for-each или Stream API там, где это уместно и улучшает читаемость кода.

Code Conventions
1. Структура метода:

   Метод объявлен публичным (public), что верно, если он предназначен для внешнего использования. Однако подумайте, насколько нужен именно открытый метод или же разумнее сделать его защищённым (protected) или закрытым (private), если логика предназначена исключительно для внутреннего использования внутри класса.

2. Форматирование:

   Между методами и переменными рекомендуется оставлять одну пустую строку для лучшей визуальной организации кода.
   Блок проверки ввода (if (mentees == null ...)) лучше расположить перед инициализацией всех остальных переменных, чтобы избежать ненужных вычислений, если условие изначально неверно.

3. Нейминг:

   Название метода calculateTotalProgress() вполне соответствует конвенциям именования методов в Java, но оно длинное. Можно рассмотреть сокращение до более лаконичного названия вроде summarizeProgress().
   Переменная index названа правильно, но её объявление можно переместить непосредственно внутрь цикла, что является хорошим стилем современного Java-кода.

Производительность

Производительности тут почти нечего улучшать, так как ваш алгоритм имеет сложность O(n). Вот несколько мелких улучшений:

    Использование цикла for-each сделает код немного чище и избавит вас от ручной манипуляции с индексом:



for (Mentee mentee : mentees) {
totalCompleted += mentee.completedLessons();
totalTotal += mentee.totalLessons();
}

Это изменение незначительно повлияет на производительность, но улучшит читаемость кода.

    Хотя использование строкового формата (String.format(...)) приемлемо, создание строки вручную с использованием конкатенации тоже хороший вариант, особенно если оптимизировать ресурсоемкость:



return "Суммарно: пройдено " + totalCompleted +
" из " + totalTotal + " уроков, осталось " + totalRemaining + " уроков";

Однако, учитывая современный подход к работе со строками в Java, разницы в производительности практически не будет.

Итоговая версия кода:

Вот как может выглядеть обновленный метод с учётом рекомендаций:


public String summarizeProgress(Mentee[] mentees) {
if (mentees == null || mentees.length == 0) {
return "Нет учеников.";
}

    int totalCompleted = 0;
    int totalTotal = 0;

    for (Mentee mentee : mentees) {
        totalCompleted += mentee.completedLessons();
        totalTotal += mentee.totalLessons();
    }

    int totalRemaining = totalTotal - totalCompleted;

    return String.format("Суммарно: пройдено %d из %d уроков, осталось %d уроков",
                         totalCompleted, totalTotal, totalRemaining);
}

Сравнение:
Scout и Giga chat обнаружили логические ошибки и соответствие Code Conventions. 
Оба ИИ предложили свой вариант по улучшению кода.
